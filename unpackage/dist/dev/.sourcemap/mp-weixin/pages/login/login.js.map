{"version":3,"sources":["webpack:///D:/uni-app-project/wanyin-sports/main.js","webpack:///D:/uni-app-project/wanyin-sports/pages/login/login.vue?5eae","webpack:///D:/uni-app-project/wanyin-sports/pages/login/login.vue?c012","webpack:///D:/uni-app-project/wanyin-sports/pages/login/login.vue?350a","webpack:///D:/uni-app-project/wanyin-sports/pages/login/login.vue?63b4","webpack:///D:/uni-app-project/wanyin-sports/pages/login/login.vue","webpack:///D:/uni-app-project/wanyin-sports/pages/login/login.vue?0c6a"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","app","getApp","isNextClick","comments","data","type","phoneNum","second","code","status","path","onLoad","mounted","wx","login","success","res","globalData","resCode","methods","toXieyi","e","currentTarget","dataset","navigateTo","url","codeLogin","PhoneLogin","clearInterval","timerId","getPhoneNumber","console","log","requestData","jsCode","encryptedData","detail","iv","errMsg","showModal","title","showCancel","content","confirmColor","http","guideLoginRegister","errorCallback","phoneNumber","value","codeNumber","sendCode","length","reqObj","sendSmsCallBack","showToast","icon","mask","countDown","setInterval","submit","guidePhone","setStorageSync","token","guide","navigateBack","delta","auditStatus","redirectTo","destroyed"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=f2974b84&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni-app-project/wanyin-sports/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=f2974b84&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { http } from \"../../utils/util.js\"\nconst app = getApp();\nlet isNextClick=false;\nexport default {\n\tcomments:{},\n\tdata() {\n\t\treturn {\n\t\t\ttype:1,\n\t\t\tphoneNum: '',\n\t\t\tsecond: 60,\n\t\t\tcode: \"\",\n\t\t\tstatus: 'normal',\n\t\t\tpath:'',//1代表正常登录，2代表登录成功后要返回页面\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tthis.path = options.path; \n\t},\n\tmounted() {\n\t\tisNextClick = false;\n\t\twx.login({\n\t\t\tsuccess:res => {\n\t\t\t\tapp.globalData.resCode = res.code;\n\t\t\t}\n\t\t})\n\t},\n\tmethods:{\n\t\ttoXieyi(e){\n\t\t    let type = e.currentTarget.dataset.type;\n\t\t    if(type=='1'){\n\t\t      /*隐私协议*/\n\t\t      wx.navigateTo({\n\t\t        url: '/pages/about/about?type=1',\n\t\t      })\n\t\t    }else{\n\t\t      /*使用协议*/\n\t\t      wx.navigateTo({\n\t\t        url: '/pages/about/about?type=2',\n\t\t      })\n\t\t    }\n\t\t},\n\t\tcodeLogin(){this.type = 2},\n\t\tPhoneLogin(){\n\t\t\tthis.type = 1;\n\t\t\tthis.status = 'normal';\n\t\t\tthis.second = 60;\n\t\t\tthis.phoneNum = '';\n\t\t\tthis.code = '';\n\t\t    clearInterval(this.timerId)\n\t\t},\n\t\t//一键登录\n\t\tgetPhoneNumber: function (e) {\n\t\t\tconsole.log(\"触发一件登录\")\n\t\t\tlet requestData={\n\t\t\t  jsCode: app.globalData.resCode,\n\t\t\t  encryptedData: e.detail.encryptedData,\n\t\t\t  iv: e.detail.iv,\n\t\t\t}\n\t\t\tif (e.detail.errMsg == \"getPhoneNumber:fail:user deny\" || e.detail.errMsg == \"getPhoneNumber:fail user deny\") {\n\t\t\t  wx.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tshowCancel: false,\n\t\t\t\tcontent: '您已拒绝微信手机号授权，请重新授权',\n\t\t\t\tconfirmColor:'#CE241D',\n\t\t\t  })\n\t\t\t} else {\n\t\t\t  http(\"/v1/auth/guideLoginByWechat\", requestData, \"GET\", this.guideLoginRegister, this, this.errorCallback, 1)\n\t\t\t}\n\t\t},\n\t\tphoneNumber(e) { this.phoneNum = e.detail.value },\n\t\tcodeNumber(e) { this.code = e.detail.value },\n\t\t// 发送验证码\n\t\tsendCode (e) {\n\t\t    if (this.phoneNum.length != 11) {\n\t\t      wx.showToast({\n\t\t        title: '手机号格式不正确',\n\t\t        icon: 'none',\n\t\t        mask: true\n\t\t      })\n\t\t      return\n\t\t    }\n\t\t    if (this.status === 'waiting') {\n\t\t      return\n\t\t    }\n\t\t    const reqObj = { phoneNum: this.phoneNum }\n\t\t    http(\"/v1/auth/sendSmsForRegister\", reqObj, \"GET\", this.sendSmsCallBack, this)\n\t\t},\n\t\t// 倒计时\n\t\tcountDown() {\n\t\t    let timerId = setInterval(() => {\n\t\t\t  this.second = this.second - 1;\n\t\t      if (this.second <= 0) {\n\t\t        clearInterval(this.timerId)\n\t\t\t\tthis.status = 'normal';\n\t\t\t\tthis.second = 60;\n\t\t      }\n\t\t    }, 1000)\n\t\t\tthis.timerId = timerId;\n\t\t\tthis.status = 'waiting';\n\t\t},\n\t\tsubmit(){\n\t\t    if (!isNextClick){//默认的可点击状态\n\t\t      if (this.phoneNum.length != 11) {\n\t\t        wx.showToast({\n\t\t          title: '手机号格式不正确',\n\t\t          icon: 'none',\n\t\t          mask: true\n\t\t        })\n\t\t        return\n\t\t      }\n\t\t      if (this.code.length != 6) {\n\t\t        wx.showToast({\n\t\t          title: '验证码格式不正确',\n\t\t          icon: 'none',\n\t\t          mask: true\n\t\t        })\n\t\t        return\n\t\t      }\n\t\t      isNextClick = true;\n\t\t      let reqObj = {\n\t\t        code: this.code,\n\t\t        guidePhone: this.phoneNum,\n\t\t      }\n\t\t      http(\"/v1/auth/guideLoginRegister\", reqObj, \"POST\", this.guideLoginRegister, this, this.errorCallback,1)\n\t\t    }\n\t\t},\n\t\tsendSmsCallBack (res) {\n\t\t  this.countDown()\n\t\t},\n\t\terrorCallback (res) {\n\t\t  isNextClick = false;\n\t\t},\n\t\tguideLoginRegister (res) {\n\t\t  isNextClick = false;\n\t\t  wx.setStorageSync(\"oauthToken\", res.token)\n\t\t  wx.setStorageSync(\"guide\", res.guide)\n\t\t  //如果是我的页面过来登录的就回到我的页面去\n\t\t  if (this.path == '2'){\n\t\t    wx.navigateBack({\n\t\t      delta:1\n\t\t    })\n\t\t  }else{\n\t\t    if (res.guide.auditStatus != 0) {//已提交报名表单，跳转到提交成功页面\n\t\t      wx.redirectTo({\n\t\t        url: '/pages/successfulApplication/successfulApplication',\n\t\t      })\n\t\t    } else {//未提交报名表单，跳转到引领员申请页面\n\t\t      wx.redirectTo({\n\t\t        url: '/pages/apply/apply?seeInformation=0',\n\t\t      })\n\t\t    }\n\t\t  }\n\t\t}\n\t},\n\tdestroyed() {\n\t\tclearInterval(this.timerId);\n\t}\n}\n","import mod from \"-!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Mike/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}